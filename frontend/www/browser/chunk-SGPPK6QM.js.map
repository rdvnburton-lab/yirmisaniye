{
  "version": 3,
  "sources": ["src/app/pages/user-profile/user-profile.component.ts", "src/app/pages/user-profile/user-profile.component.html"],
  "sourcesContent": ["import { Component, OnInit } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { FriendsService, PublicProfile } from '../../services/friends.service';\r\nimport { CardModule } from 'primeng/card';\r\nimport { AvatarModule } from 'primeng/avatar';\r\nimport { ButtonModule } from 'primeng/button';\r\nimport { ProgressSpinnerModule } from 'primeng/progressspinner';\r\nimport { MessageService } from 'primeng/api';\r\nimport { ToastModule } from 'primeng/toast';\r\nimport { DividerModule } from \"primeng/divider\";\r\n\r\n@Component({\r\n  selector: 'app-user-profile',\r\n  standalone: true,\r\n  imports: [\r\n    CommonModule,\r\n    CardModule,\r\n    AvatarModule,\r\n    ButtonModule,\r\n    ProgressSpinnerModule,\r\n    ToastModule,\r\n    DividerModule\r\n],\r\n  templateUrl: './user-profile.component.html',\r\n  styleUrls: ['./user-profile.component.scss'],\r\n  providers: [MessageService]\r\n})\r\nexport class UserProfileComponent implements OnInit {\r\n  profile: PublicProfile | null = null;\r\n  loading = true;\r\n  error: string | null = null;\r\n\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    public router: Router,\r\n    private friendsService: FriendsService,\r\n    private messageService: MessageService\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.route.paramMap.subscribe(params => {\r\n      const username = params.get('username');\r\n      if (username) {\r\n        this.loadUserProfile(username);\r\n      } else {\r\n        this.router.navigate(['/app/dashboard']);\r\n      }\r\n    });\r\n  }\r\n\r\n  loadUserProfile(username: string): void {\r\n    this.loading = true;\r\n    this.error = null;\r\n    this.friendsService.getUserProfile(username).subscribe({\r\n      next: (data) => {\r\n        this.profile = data;\r\n        this.loading = false;\r\n      },\r\n      error: (err) => {\r\n        this.error = err.error.message || 'Profil yüklenirken bir hata oluştu.';\r\n        this.loading = false;\r\n      }\r\n    });\r\n  }\r\n\r\n  sendRequest(): void {\r\n    if (!this.profile?.user.username) return;\r\n    this.friendsService.sendFriendRequest(this.profile.user.username).subscribe({\r\n      next: (res) => {\r\n        this.messageService.add({ severity: 'success', summary: 'Başarılı', detail: res.message });\r\n        if (this.profile) this.profile.friendshipStatus = 'pending';\r\n      },\r\n      error: (err) => {\r\n        this.messageService.add({ severity: 'error', summary: 'Hata', detail: err.error.message || 'İstek gönderilemedi.' });\r\n      }\r\n    });\r\n  }\r\n}", "<p-toast></p-toast>\r\n<div class=\"user-profile-page\">\r\n    <p-progressSpinner *ngIf=\"loading\"></p-progressSpinner>\r\n\r\n    <p-card *ngIf=\"error\" header=\"Hata\">\r\n        <p>{{ error }}</p>\r\n        <button pButton type=\"button\" label=\"Geri Dön\" icon=\"pi pi-arrow-left\"\r\n            (click)=\"router.navigate(['/app/friends'])\"></button>\r\n    </p-card>\r\n\r\n    <div *ngIf=\"!loading && profile\" class=\"grid justify-content-center\">\r\n        <div class=\"col-12 md:col-8 lg:col-6\">\r\n            <p-card>\r\n                <div class=\"text-center\">\r\n                    <p-avatar [image]=\"profile.user.profile_picture || 'assets/images/avatar-placeholder.png'\"\r\n                        styleClass=\"w-9rem h-9rem mb-3\" shape=\"circle\"></p-avatar>\r\n                    <h2 class=\"text-3xl font-bold mb-1\">{{ profile.user.username }}</h2>\r\n                    <p class=\"text-color-secondary\">Üyelik Tarihi: {{ profile.user.created_at | date:'dd.MM.yyyy' }}</p>\r\n\r\n                    <div *ngIf=\"profile.friendshipStatus !== 'self'\" class=\"mt-4\">\r\n                        <p-button *ngIf=\"profile.friendshipStatus === 'none'\" label=\"Arkadaş Ekle\"\r\n                            icon=\"pi pi-user-plus\" (click)=\"sendRequest()\"></p-button>\r\n                        <p-button *ngIf=\"profile.friendshipStatus === 'pending'\" label=\"İstek Gönderildi\"\r\n                            icon=\"pi pi-clock\" [disabled]=\"true\" styleClass=\"p-button-secondary\"></p-button>\r\n                        <p-button *ngIf=\"profile.friendshipStatus === 'accepted'\" label=\"Arkadaşsınız\"\r\n                            icon=\"pi pi-users\" [disabled]=\"true\" styleClass=\"p-button-success\"></p-button>\r\n                    </div>\r\n                </div>\r\n\r\n                <p-divider layout=\"horizontal\" align=\"center\" styleClass=\"my-5\">\r\n                    <b>İstatistikler</b>\r\n                </p-divider>\r\n\r\n                <div class=\"grid text-center\">\r\n                    <div class=\"col-6\">\r\n                        <div class=\"p-3\">\r\n                            <i class=\"pi pi-star-fill text-yellow-500 text-4xl mb-2\"></i>\r\n                            <div class=\"text-2xl font-bold\">{{ profile.stats.total_score }}</div>\r\n                            <div class=\"text-sm text-color-secondary\">Toplam Puan</div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"col-6\">\r\n                        <div class=\"p-3\">\r\n                            <i class=\"pi pi-book text-blue-500 text-4xl mb-2\"></i>\r\n                            <div class=\"text-2xl font-bold\">{{ profile.stats.quizzes_completed }}</div>\r\n                            <div class=\"text-sm text-color-secondary\">Tamamlanan Quiz</div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </p-card>\r\n        </div>\r\n    </div>\r\n</div>"],
  "mappings": "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",
  "names": []
}
