{
  "version": 3,
  "sources": ["src/app/services/friends.service.ts"],
  "sourcesContent": ["import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\n\r\nexport interface Friend {\r\n  id: number;\r\n  username: string;\r\n  profile_picture: string | null;\r\n}\r\n\r\nexport interface FriendRequest {\r\n  id: number; // Bu, friendship tablosundaki ID'dir\r\n  username: string;\r\n  profile_picture: string | null;\r\n}\r\n\r\nexport interface PublicProfile {\r\n  user: {\r\n    id: number;\r\n    username: string;\r\n    profile_picture: string | null;\r\n    created_at: string;\r\n  };\r\n  stats: {\r\n    quizzes_completed: number;\r\n    total_score: number;\r\n  };\r\n  friendshipStatus: 'pending' | 'accepted' | 'rejected' | 'blocked' | 'none' | 'self';\r\n}\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class FriendsService {\r\n  private friendsApiUrl = '/api/friends';\r\n  private usersApiUrl = '/api/users';\r\n\r\n  constructor(private http: HttpClient) { }\r\n\r\n  getFriends(): Observable<Friend[]> {\r\n    return this.http.get<Friend[]>(`${this.friendsApiUrl}/`);\r\n  }\r\n\r\n  getFriendRequests(): Observable<FriendRequest[]> {\r\n    return this.http.get<FriendRequest[]>(`${this.friendsApiUrl}/requests`);\r\n  }\r\n\r\n  sendFriendRequest(username: string): Observable<{ message: string }> {\r\n    return this.http.post<{ message: string }>(`${this.friendsApiUrl}/request`, { username });\r\n  }\r\n\r\n  respondToRequest(requestId: number, action: 'accept' | 'reject'): Observable<{ message: string }> {\r\n    return this.http.put<{ message: string }>(`${this.friendsApiUrl}/request/${requestId}`, { action });\r\n  }\r\n\r\n  removeFriend(friendId: number): Observable<{ message: string }> {\r\n    return this.http.delete<{ message: string }>(`${this.friendsApiUrl}/${friendId}`);\r\n  }\r\n\r\n  getUserProfile(username: string): Observable<PublicProfile> {\r\n    return this.http.get<PublicProfile>(`${this.usersApiUrl}/profile/${username}`);\r\n  }\r\n}"],
  "mappings": ";;;;;;;;;;;AAiCM,IAAO,iBAAP,MAAO,gBAAc;EAIL;EAHZ,gBAAgB;EAChB,cAAc;EAEtB,YAAoB,MAAgB;AAAhB,SAAA,OAAA;EAAoB;EAExC,aAAU;AACR,WAAO,KAAK,KAAK,IAAc,GAAG,KAAK,aAAa,GAAG;EACzD;EAEA,oBAAiB;AACf,WAAO,KAAK,KAAK,IAAqB,GAAG,KAAK,aAAa,WAAW;EACxE;EAEA,kBAAkB,UAAgB;AAChC,WAAO,KAAK,KAAK,KAA0B,GAAG,KAAK,aAAa,YAAY,EAAE,SAAQ,CAAE;EAC1F;EAEA,iBAAiB,WAAmB,QAA2B;AAC7D,WAAO,KAAK,KAAK,IAAyB,GAAG,KAAK,aAAa,YAAY,SAAS,IAAI,EAAE,OAAM,CAAE;EACpG;EAEA,aAAa,UAAgB;AAC3B,WAAO,KAAK,KAAK,OAA4B,GAAG,KAAK,aAAa,IAAI,QAAQ,EAAE;EAClF;EAEA,eAAe,UAAgB;AAC7B,WAAO,KAAK,KAAK,IAAmB,GAAG,KAAK,WAAW,YAAY,QAAQ,EAAE;EAC/E;;qCA5BW,iBAAc,mBAAA,UAAA,CAAA;EAAA;4EAAd,iBAAc,SAAd,gBAAc,WAAA,YAFb,OAAM,CAAA;;;sEAEP,gBAAc,CAAA;UAH1B;WAAW;MACV,YAAY;KACb;;;",
  "names": []
}
